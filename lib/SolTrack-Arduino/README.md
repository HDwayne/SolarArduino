# SolTrack for Arduino #

**SolTrack** for Arduino is a free, fast and accurate Arduino routine to compute the position of the Sun.  The
code can be used to track the Sun on an Arduino Uno, using single-precision variables, and can be used for
_e.g._ (highly) concentrated (photovoltaic) solar power or accurate solar-energy modelling.

SolTrack has been developed by [Marc van der Sluys](http://han.vandersluys.nl/en/), Paul van Kan and Jurgen
Reintjes, at the [Sustainable Energy research
group](http://www.han.nl/international/english/research/sustainable-electrical-energy/) at the [HAN University
of Applied Sciences](http://www.han.nl/international/english/) in Arnhem, the Netherlands.  The code is based
on the astronomical Fortran library [libTheSky](http://libthesky.sf.net "libTheSky: a Fortran library to
compute the positions of celestial bodies and events with great accuracy") and can be used, modified and
distributed under the conditions of version 3 of the [GNU Lesser General Public
Licence](http://www.gnu.org/licenses/lgpl.html).





## Description, speed and accuracy ##

See also the [**poster and conference proceedings**](http://han.vandersluys.nl/en/Publications.html) we
presented on CPV-11 in April 2015 for the C/C++ version of the code.

SolTrack for Arduino is a simple Arduino routine that can compute the position of the Sun in topocentric
coordinates, both in a [horizontal](https://en.wikipedia.org/wiki/Horizontal_coordinate_system "Wikipedia")
and in an [equatorial](https://en.wikipedia.org/wiki/Equatorial_coordinate_system "Wikipedia") system. The
code is based on the Fortran library [libTheSky](http://libthesky.sf.net) and includes corrections for
[aberration](http://en.wikipedia.org/wiki/Aberration_of_light "Wikipedia") and
[parallax](http://en.wikipedia.org/wiki/Parallax#Diurnal_parallax "Wikipedia"), and a [simple
routine](http://adsabs.harvard.edu/abs/1986S%26T....72...70S) to correct for [atmospheric
refraction](https://en.wikipedia.org/wiki/Atmospheric_refraction "Wikipedia"), taking into account local
atmospheric conditions.  We compared the performance of SolTrack to detailed calculations using the planetary
theories [VSOP 87](http://cdsads.u-strasbg.fr/cgi-bin/nph-bib_query?1988A%26A...202..309B) and an [accurate
model](http://astro.ukho.gov.uk/data/tn/naotn63.pdf) for atmospheric refraction.

We tested SolTrack for Arduino for 200,000 random moments between 2021 and 2030 when the Sun is above the
horizon in the Netherlands (latitude &sim;52&deg;N). We find that the mean error in position is 0.0027 &pm;
0.0037&deg; when using the single-precision Arduino UNO, which is sufficient for solar tracking of CPV systems
under all conditions. The code can compute about 96 Sun positions per second on an Arduino UNO.



## SolTrack pages ##

* [**SolTrack homepage**](http://soltrack.sourceforge.net/) describing the C/C++ and Python versions
* [**SolTrack project page**](https://sourceforge.net/projects/soltrack/) on SourceForge (C/C++ code/binary
  download, bug reports, etc.)
* [**SolTrack for Python**](https://pypi.org/project/soltrack/) on PyPI
* [**Code documentation**](http://soltrack.sourceforge.net/doxygen/) for the C/C++ version, generated by
[Doxygen](http://www.doxygen.org/)




## Example ##

This repository lists an `example.ino` program that can be linked against the SolTrack library (_i.e._
compiled and uploaded together with `SolTrack.ino` and `SolTrack.h`), and which computes data for a single
instance.[^dir]  Example output is provided to verify the results.



    
## SolTrack has been used by: ##

* [HAN University of Applied Sciences](https://www.han.nl/international/english/research/sustainable-electrical-energy/), The Netherlands
* [SunCycle](http://www.suncycle.nl/)


    
## Contact ##

You can contact the authors (preferably through email) via [this page](http://han.vandersluys.nl/en/).

    
## Footnotes ##

[^dir]: Note that some systems require you to use a directory of the same name as the script (see e.g. [this
    page](https://arduino.stackexchange.com/q/32619/43342)).  If you use such a system, you should call the directory `example/` for the example code.
